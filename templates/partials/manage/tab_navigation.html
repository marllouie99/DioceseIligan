{% load static %}
{# Tab Navigation for Manage Church #}
<div class="tabs-nav">
  <button class="tab-btn {% if not request.GET.tab or request.GET.tab == 'overview' %}active{% endif %}" data-tab="overview">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="7" height="7"/>
      <rect x="14" y="3" width="7" height="7"/>
      <rect x="14" y="14" width="7" height="7"/>
      <rect x="3" y="14" width="7" height="7"/>
    </svg>
    <span class="tab-label">Overview</span>
  </button>
  <button class="tab-btn {% if request.GET.tab == 'appointments' %}active{% endif %}" data-tab="appointments" style="position: relative;">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
      <line x1="16" y1="2" x2="16" y2="6"/>
      <line x1="8" y1="2" x2="8" y2="6"/>
      <line x1="3" y1="10" x2="21" y2="10"/>
    </svg>
    <span class="tab-label">Appointments</span>
    {% if unread_booking_notifications > 0 %}
    <span class="notification-badge" style="position: absolute; top: 8px; right: 8px; background: #ef4444; color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 10px; display: flex; align-items: center; justify-content: center; font-weight: 600;">{{ unread_booking_notifications }}</span>
    {% endif %}
  </button>
  <button class="tab-btn {% if request.GET.tab == 'services' %}active{% endif %}" data-tab="services">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
    </svg>
    <span class="tab-label">Services</span>
  </button>
  <button class="tab-btn {% if request.GET.tab == 'availability' %}active{% endif %}" data-tab="availability">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"/>
      <polyline points="12,6 12,12 16,14"/>
    </svg>
    <span class="tab-label">Availability</span>
  </button>
  <button class="tab-btn" data-tab="events">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
      <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
    </svg>
    <span class="tab-label">Events</span>
  </button>
  <button class="tab-btn" data-tab="content">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
      <polyline points="14,2 14,8 20,8"/>
      <line x1="16" y1="13" x2="8" y2="13"/>
      <line x1="16" y1="17" x2="8" y2="17"/>
      <polyline points="10,9 9,9 8,9"/>
    </svg>
    <span class="tab-label">Content</span>
  </button>
  <button class="tab-btn" data-tab="donations">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
    </svg>
    <span class="tab-label">Donations</span>
  </button>
  <button class="tab-btn" data-tab="transactions">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="2" y="5" width="20" height="14" rx="2"/>
      <line x1="2" y1="10" x2="22" y2="10"/>
    </svg>
    <span class="tab-label">Transactions</span>
  </button>
  <button class="tab-btn" data-tab="followers">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
      <circle cx="9" cy="7" r="4"/>
      <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
      <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
    </svg>
    <span class="tab-label">Followers</span>
  </button>
  <button class="tab-btn" data-tab="settings">
    {% include 'partials/icons/settings.html' with class="tab-icon" %}
    <span class="tab-label">Settings</span>
    {% if church and not church.is_verified %}
      {% if not latest_verification or latest_verification.status != 'pending' %}
        <span class="warning-indicator" title="Action required: Submit verification documents"></span>
      {% endif %}
    {% endif %}
  </button>
</div>
